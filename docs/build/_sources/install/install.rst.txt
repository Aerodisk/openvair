.. _install-osv-label:

#########
Установка
#########

Подготовка к Установке
======================
Необходимо подготовить "чистую" машину, во избежания каких-либо конфликтов
и коллизий в зависимостях, с операционной системой, указанной
в системных требованиях.

.. important::

    Не во всех дистрибутивах есть предустановленный из коробки git.
    Этот инструмент
    понадобиться вам для загрузки репозитория с исходным кодом, поэтому
    проверьте его наличие и установите его, если он отсутствует.

Этапы установки
===============
Ниже представлена пошаговая инструкция для установки Open vAIR.

Обновление Системных Пакетов
----------------------------

1. Апдейт.

.. code-block:: Shell

    sudo apt update

2. Апгрейд.

.. code-block:: Shell

    sudo apt upgrade

3. Перезагрузка ОС для применения всех изменений.

.. code-block:: Shell

    reboot

Создание Пользователя
---------------------

1. Создать пользователя.

.. code-block:: Shell

    sudo useradd -s /bin/bash -d /opt/aero -m aero


2. Наделить правами.

.. code-block:: Shell

    sudo chmod +x /opt/aero


3. Добавить права суперпользователя.

.. code-block:: Shell

    echo "aero ALL=(ALL) NOPASSWD: ALL" | sudo tee /etc/sudoers.d/aero

Загрузка Репозитория Проекта
----------------------------

1. Переключиться на созданного пользователя. Все действия, описанные ниже,
выполняйте под этим пользователем.

.. code-block:: Shell

    sudo -u aero -i

2. Скачать репозиторий.

.. code-block:: Shell

    git clone https://github.com/Aerodisk/Open-vAIR

Запуск Скрипта Установки
------------------------

1. Запустить скрипт установки из скачанного репозитория с помощью встроенной
команды source.

.. code-block:: Shell

    ./openvair/install.sh

.. note::

    Во время установки все логи будут записываться в файл `/openvair/install.log`.
    Рекомендуется проверять этот файл для отслеживания хода установки и диагностики
    возможных ошибок.
